# ========================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# BoxiBox SaaS - Self-Storage Management
# ========================================

# Application
APP_NAME=Boxibox
APP_ENV=production
APP_KEY=base64:GENERATE_WITH_php_artisan_key:generate
APP_DEBUG=false
APP_URL=https://app.boxibox.com

# Logging (Error tracking)
LOG_CHANNEL=stack
LOG_LEVEL=error
LOG_STACK=single,sentry

# Database (MySQL/MariaDB Production)
DB_CONNECTION=mysql
DB_HOST=localhost
DB_PORT=3306
DB_DATABASE=boxibox_prod
DB_USERNAME=boxibox_user
DB_PASSWORD=STRONG_PASSWORD_HERE

# ========================================
# REDIS CONFIGURATION (CRITICAL FOR PRODUCTION)
# ========================================
# Redis improves performance by 5-10x for cache/session/queue
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# Use Redis for all critical services
CACHE_DRIVER=redis
SESSION_DRIVER=redis
QUEUE_CONNECTION=redis
BROADCAST_DRIVER=redis

# Cache prefix for multi-tenant isolation
CACHE_PREFIX=boxibox

# Session configuration
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_SECURE_COOKIE=true
SESSION_SAME_SITE=strict

# ========================================
# MAIL CONFIGURATION (Production SMTP)
# ========================================
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailgun.org
MAIL_PORT=587
MAIL_USERNAME=postmaster@mail.boxibox.com
MAIL_PASSWORD=MAILGUN_API_KEY
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@boxibox.com
MAIL_FROM_NAME="${APP_NAME}"

# ========================================
# STRIPE PAYMENT GATEWAY (LIVE KEYS)
# ========================================
STRIPE_KEY=pk_live_your_publishable_key
STRIPE_SECRET=sk_live_your_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_live_webhook_secret

# ========================================
# SMS CONFIGURATION
# ========================================
SMS_PROVIDER=twilio
SMS_ENABLED=true

# Twilio (Recommended for France/Europe)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_FROM=+33XXXXXXXXX

# ========================================
# AI / OPENAI
# ========================================
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4

# ========================================
# SMART LOCK INTEGRATIONS
# ========================================
# Noke Smart Locks
NOKE_API_KEY=
NOKE_API_SECRET=

# PTI Security
PTI_API_KEY=
PTI_API_URL=https://api.ptisecurity.com

# Salto Access
SALTO_API_KEY=

# ========================================
# PUSH NOTIFICATIONS (VAPID for Web Push)
# ========================================
VAPID_PUBLIC_KEY=your_vapid_public_key
VAPID_PRIVATE_KEY=your_vapid_private_key

# Firebase (Optional for mobile)
FIREBASE_SERVER_KEY=
FIREBASE_PROJECT_ID=

# ========================================
# ERROR MONITORING - SENTRY (REQUIRED)
# ========================================
SENTRY_LARAVEL_DSN=https://xxxxx@sentry.io/xxxxx
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ========================================
# BACKUP CONFIGURATION
# ========================================
BACKUP_NAME=boxibox-backup
BACKUP_DISK=s3

# AWS S3 for backups
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=eu-west-3
AWS_BUCKET=boxibox-backups
AWS_USE_PATH_STYLE_ENDPOINT=false

# ========================================
# CORS CONFIGURATION (REQUIRED)
# ========================================
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=https://app.boxibox.com,https://booking.boxibox.com,https://widget.boxibox.com

# ========================================
# SECURITY HEADERS
# ========================================
# Force HTTPS
FORCE_HTTPS=true

# Trusted proxies (for load balancers)
TRUSTED_PROXIES=*

# ========================================
# PERFORMANCE TUNING
# ========================================
# OPcache (configure in php.ini)
# opcache.enable=1
# opcache.memory_consumption=256
# opcache.max_accelerated_files=20000
# opcache.validate_timestamps=0

# Query logging (disable in production)
DB_LOGGING=false

# Telescope (disable in production)
TELESCOPE_ENABLED=false

# ========================================
# QUEUE WORKERS (Supervisor config)
# ========================================
# See supervisor config in /etc/supervisor/conf.d/boxibox-worker.conf
# Queue retry settings
QUEUE_RETRY_AFTER=90
QUEUE_MAX_JOBS=1000
QUEUE_MAX_TIME=3600
